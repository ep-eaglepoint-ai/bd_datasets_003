{
    "instance_id": "B2VX85",
    "problem_statement": "Stateful WebSocket architectures require rigorous lifecycle management that stateless HTTP does not. The engineering challenge centers on the atomicity of the Disconnect-Promote sequence: when an active session terminates, the system must instantaneously and safely mutate two distinct data structures removing the user from the Active Set and shifting the FIFO Queue to maintain the strict concurrency limit without race conditions.",
    "base_commit": "repository_before/",
    "test_patch": "tests/",
    "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_003/tree/main/b2vx85-websocket-virtual-waiting-room-with-heartbeat-eviction",
    "environment_setup": "Dockerfile",
    "FAIL_TO_PASS": [
        "tests/server.test.js::WebSocket Virtual Waiting Room - Adversarial Tests::Requirement 1: Saturation Test::should allow exactly 5 active connections and queue the 6th",
        "tests/server.test.js::WebSocket Virtual Waiting Room - Adversarial Tests::Requirement 2: Promotion Logic::should immediately promote queued client when active disconnects",
        "tests/server.test.js::WebSocket Virtual Waiting Room - Adversarial Tests::Requirement 3: Heartbeat Eviction::should disconnect client that fails to send ping within 3 seconds",
        "tests/server.test.js::WebSocket Virtual Waiting Room - Adversarial Tests::Requirement 4: Race Conditions and Concurrent Disconnects::should handle simultaneous disconnects without corrupting state",
        "tests/server.test.js::WebSocket Virtual Waiting Room - Adversarial Tests::Requirement 5: Malformed Message Handling::should not crash on malformed JSON messages",
        "tests/server.test.js::WebSocket Virtual Waiting Room - Adversarial Tests::Requirement 6: Memory Leak Prevention::should maintain stable memory during extended operation"
    ],
    "PASS_TO_PASS": [
        "tests/server.test.js::Unit Tests - Component Level::StateManager::should enforce active pool capacity limit",
        "tests/server.test.js::Unit Tests - Component Level::StateManager::should maintain FIFO queue order",
        "tests/server.test.js::Unit Tests - Component Level::MessageHandler::should format queued message correctly",
        "tests/server.test.js::Unit Tests - Component Level::MessageHandler::should format active message correctly"
    ]
}