{
    "instance_id": "JE0CF7",
    "problem_statement": "Working on a development tools team that needs to implement live reload functionality for a custom static site generator. The current build system in tools/builder.py requires manual re-execution whenever source files change, which slows down the content authoring workflow significantly. The goal is to create a file watching utility that detects changes to markdown and template files in the source directory and triggers rebuild callbacks automatically.",
    "base_commit": "repository_before/",
    "test_patch": "tests/",
    "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_003/tree/main/je0cf7-async-file-watcher",
    "environment_setup": "Dockerfile",
    "FAIL_TO_PASS": [
        [
            "Verify asyncio is available",
            "Verify watchdog library is installed and importable",
            "Detect file creation",
            "Detect file deletion",
            "Detect file modification",
            "AsyncEventHandler stores event loop reference",
            "AsyncEventHandler uses loop.call_soon_threadsafe",
            "Watchdog thread events reach asyncio safely",
            "_queue_event uses thread-safe mechanisms",
            "Uses asyncio.Queue for thread-safe communication",
            "__aenter__ returns watcher instance",
            "__aexit__ performs cleanup",
            "Pending debounce tasks are cancelled",
            "__aenter__ and __aexit__ methods exist",
            "Watchdog observer is stopped and joined",
            "All parameters are stored as instance attributes",
            "AsyncFileWatcher class exists",
            "Initialization with custom debounce interval",
            "Initialization with extension filter",
            "Default debounce interval is 0.5 seconds",
            "Extensions default to None",
            "Initialization with directory path only",
            "start returns an awaitable",
            "start is an async method",
            "start runs until stop is called",
            "start yields control to the event loop",
            "Calling stop before start is safe",
            "start exits cleanly after stop",
            "stop method exists",
            "stop terminates start loop",
            "All registered callbacks are invoked",
            "Callback receives correct arguments",
            "Multiple callbacks can be registered",
            "on_change method exists",
            "on_change registers a callback",
            "Callback fires after debounce interval",
            "Rapid changes are debounced",
            "Path-based requirement example is handled",
            "Files in subdirectories are detected",
            "Only matching extensions trigger callbacks",
            "Non-matching extensions do not trigger callbacks",
            "All files trigger callbacks when no filter is set",
            "AsyncEventHandler overrides on_created",
            "AsyncEventHandler overrides on_deleted",
            "AsyncEventHandler overrides on_modified",
            "AsyncEventHandler inherits from FileSystemEventHandler",
            "Module imports watchdog correctly",
            "AsyncFileWatcher uses watchdog Observer",
            "Error messages are clear and descriptive",
            "Invalid file path raises ValueError",
            "Non-existent directory raises ValueError"
        ]
    ],
    "PASS_TO_PASS": []
}