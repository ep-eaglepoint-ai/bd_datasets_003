{
        "instance_id": "RHKA9A",
        "problem_statement": "The engineering team needs to build an event sourcing framework for the order management domain to support audit logging, temporal queries, and eventual consistency across microservices. The system must store all state changes as immutable events, rebuild aggregate state from event history, maintain denormalized read models via projections, and handle concurrent modifications safely. The framework should support snapshot optimization for aggregates with many events and allow full projection rebuilds without blocking ongoing operations",
        "base_commit": "repository_before/",
        "test_patch": "tests/",
        "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_003/tree/main/rhka9a-event-sourcing-system-order-management-with-cqrs-projections",
        "environment_setup": "Dockerfile",
        "FAIL_TO_PASS": [
                "shouldTrackUncommittedEvents",
                "shouldTrackMultipleUncommittedEvents",
                "shouldClearUncommittedEventsAfterMarkingAsCommitted",
                "shouldReturnUnmodifiableListOfUncommittedEvents",
                "shouldApplyEventsImmediatelyWhenRegistered",
                "shouldInitializeWithVersionZero",
                "shouldTrackVersionDuringStateRebuild",
                "shouldCalculateNextVersionAccountingForUncommittedEvents",
                "shouldUpdateVersionAfterLoadingFromHistory",
                "shouldRebuildStateFromEmptyHistory",
                "shouldRebuildStateFromSingleEvent",
                "shouldRebuildStateFromMultipleEventsInOrder",
                "shouldRebuildStateCorrectlyWithManyEvents",
                "shouldHaveNoUncommittedEventsAfterLoadingFromHistory",
                "shouldApplyEventsInCorrectOrderDuringRebuild",
                "shouldReturnAggregateTypeName",
                "shouldUseAggregateIdForEquality",
                "shouldNotBeEqualWithDifferentAggregateIds",
                "shouldCreateOrderWithCorrectState",
                "shouldGenerateOrderCreatedEvent",
                "shouldHaveUncommittedChanges",
                "shouldAddItemToDraftOrder",
                "shouldAccumulateTotalAmount",
                "shouldNotAddItemToSubmittedOrder",
                "shouldValidateItemParameters",
                "shouldRemoveItem",
                "shouldNotRemoveNonExistentItem",
                "shouldNotRemoveItemFromSubmittedOrder",
                "shouldSubmitOrderWithItems",
                "shouldNotSubmitEmptyOrder",
                "shouldNotSubmitAlreadySubmittedOrder",
                "eventsShouldHaveFinalFields",
                "eventsShouldNotHaveSetters",
                "eventFieldsShouldBeAccessibleOnlyThroughGetters",
                "eventsShouldSerializeToJson",
                "eventsShouldSerializeWithAllFields",
                "eventsShouldSerializeEventType",
                "eventsShouldDeserializeFromJson",
                "eventsShouldDeserializeWithCorrectType",
                "eventsShouldPreserveVersion",
                "eventsShouldPreserveTimestamp",
                "eventTypeShouldBeFullyQualifiedClassName",
                "differentEventTypesShouldHaveDifferentTypeNames",
                "eventsWithSameDataShouldBeEqual",
                "eventsWithDifferentEventIdsShouldNotBeEqual",
                "orderCreatedEventShouldSerializeDeserialize",
                "orderItemAddedEventShouldSerializeDeserialize",
                "orderItemRemovedEventShouldSerializeDeserialize",
                "orderSubmittedEventShouldSerializeDeserialize",
                "shouldThrowConcurrencyExceptionWhenVersionMismatch",
                "shouldAppendInitialEventWithOptimisticLocking",
                "shouldThrowConcurrencyExceptionWhenAppendingInitialToExistingAggregate",
                "shouldReturnEmptyListWhenNoEvents",
                "shouldCheckIfEventProcessed",
                "shouldGetCurrentVersion",
                "shouldPersistMultipleEventsWithStrictlyIncreasingVersions",
                "shouldMaintainEventOrderAcrossMultipleAppends",
                "shouldOrderEventsByVersionWhenLoading",
                "shouldSerializeEventTypeAsFullyQualifiedClassName",
                "shouldSerializeEventPayloadAsValidJson",
                "shouldPreserveAllEventFieldsInSerializedPayload",
                "shouldHandleLargeNumberOfEvents",
                "shouldMaintainPerformanceWithManyEvents",
                "shouldGenerateUniqueEventIds",
                "shouldMaintainUniqueEventIdsAcrossAggregates",
                "shouldPreserveEventTimestamps",
                "shouldOrderEventsByTimestamp",
                "shouldHandleSingleEventAppend",
                "shouldHandleEmptyEventList",
                "shouldHandleEventsWithNullOptionalFields",
                "shouldPersistAndLoadEventsInOrder",
                "shouldEnforceOptimisticLocking",
                "shouldRebuildFromFullHistory",
                "eventReplayShouldProduceIdenticalState",
                "multipleReplaysShouldProduceIdenticalState",
                "replayShouldHandleComplexEventSequences",
                "shouldCreateProjectionOnOrderCreated",
                "shouldBeIdempotent",
                "shouldSkipIfProjectionExists",
                "shouldUpdateProjectionOnItemAdded",
                "shouldUpdateProjectionOnItemRemoved",
                "shouldUpdateStatusToSubmitted",
                "shouldGetOrderById",
                "shouldGetOrdersByCustomer",
                "snapshotReducesEventsLoadedAfterVersion",
                "snapshotRestorationShouldRestoreAllStateFields",
                "snapshotRestorationShouldWorkWithNoEventsAfterSnapshot",
                "snapshotRestorationShouldCombineSnapshotAndEventsAfter",
                "projectionFailureShouldNotRollBackCommand",
                "multipleCommandsShouldSucceedDespiteProjectionFailures",
                "shouldRebuildProjectionFromFullHistory",
                "shouldRebuildProjectionWithManyEvents",
                "shouldUsePaginationWhenRebuildingLargeEventStores",
                "shouldAllowCommandsToExecuteDuringRebuild",
                "shouldAllowEventPublishingDuringRebuild",
                "shouldProduceSameResultWhenRebuildingTwice",
                "shouldHandleRebuildWhileNewEventsAreBeingPublished",
                "shouldNotLoadAllEventsIntoMemoryAtOnce",
                "shouldCompleteRebuildInReasonableTime",
                "shouldNotImportAxonFramework",
                "shouldNotImportEventStoreDb",
                "shouldNotHaveExternalEventSourcingDependencies",
                "shouldUseSpringBoot3x",
                "shouldUseSpringDataJpa",
                "shouldUseJacksonForSerialization",
                "shouldUseJacksonAnnotations",
                "shouldUsePostgreSQLDriver",
                "shouldConfigurePostgreSQLInApplicationProperties",
                "shouldUseJava17Plus",
                "eventSourcingFrameworkShouldBeImplementedFromScratch",
                "shouldNotUseExternalEventSourcingAbstractions",
                "shouldUseStandardSpringComponents"
        ],
        "PASS_TO_PASS": []
        }
