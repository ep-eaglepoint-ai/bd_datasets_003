{
        "instance_id": "RHKA9A",
        "problem_statement": "The engineering team needs to build an event sourcing framework for the order management domain to support audit logging, temporal queries, and eventual consistency across microservices. The system must store all state changes as immutable events, rebuild aggregate state from event history, maintain denormalized read models via projections, and handle concurrent modifications safely. The framework should support snapshot optimization for aggregates with many events and allow full projection rebuilds without blocking ongoing operations",
        "base_commit": "repository_before/",
        "test_patch": "tests/",
        "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_003/tree/main/rhka9a-event-sourcing-system-order-management-with-cqrs-projections",
        "environment_setup": "Dockerfile",
        "FAIL_TO_PASS": [
            "OrderAggregateTest$CreateOrderTests#shouldCreateOrderWithDraftStatus",
            "OrderAggregateTest$CreateOrderTests#shouldGenerateOrderCreatedEvent",
            "OrderAggregateTest$CreateOrderTests#shouldRejectNullCustomerId",
            "OrderAggregateTest$CreateOrderTests#shouldRejectDuplicateCreation",
            "OrderAggregateTest$CreateOrderTests#shouldSetCreatedTimestamp",
            "OrderAggregateTest$AddItemTests#shouldAddItemToDraftOrder",
            "OrderAggregateTest$AddItemTests#shouldGenerateOrderItemAddedEvent",
            "OrderAggregateTest$AddItemTests#shouldRejectAddItemToSubmittedOrder",
            "OrderAggregateTest$AddItemTests#shouldRejectZeroQuantity",
            "OrderAggregateTest$AddItemTests#shouldRejectNegativeQuantity",
            "OrderAggregateTest$AddItemTests#shouldRejectNegativeUnitPrice",
            "OrderAggregateTest$AddItemTests#shouldRejectZeroUnitPrice",
            "OrderAggregateTest$AddItemTests#shouldRejectNullProductId",
            "OrderAggregateTest$AddItemTests#shouldRejectNullUnitPrice",
            "OrderAggregateTest$AddItemTests#shouldUpdateItemIfProductAlreadyExists",
            "OrderAggregateTest$AddItemTests#shouldCalculateTotalCorrectlyWithMultipleItems",
            "OrderAggregateTest$RemoveItemTests#shouldRemoveItemFromDraftOrder",
            "OrderAggregateTest$RemoveItemTests#shouldGenerateOrderItemRemovedEvent",
            "OrderAggregateTest$RemoveItemTests#shouldRejectRemovalOfNonExistentItem",
            "OrderAggregateTest$RemoveItemTests#shouldRejectRemoveItemFromSubmittedOrder",
            "OrderAggregateTest$RemoveItemTests#shouldRecalculateTotalAfterRemoval",
            "OrderAggregateTest$SubmitOrderTests#shouldSubmitOrderWithItems",
            "OrderAggregateTest$SubmitOrderTests#shouldGenerateOrderSubmittedEvent",
            "OrderAggregateTest$SubmitOrderTests#shouldRejectSubmissionOfEmptyOrder",
            "OrderAggregateTest$SubmitOrderTests#shouldRejectDuplicateSubmission",
            "OrderAggregateTest$SubmitOrderTests#shouldIncrementVersionOnSubmission",
            "OrderAggregateTest$EventApplicationTests#shouldReconstructStateFromEventHistory",
            "OrderAggregateTest$EventApplicationTests#shouldProduceIdenticalStateOnMultipleReplays",
            "OrderAggregateTest$EventApplicationTests#shouldNotHaveUncommittedEventsAfterLoadingFromHistory",
            "OrderAggregateTest$EventApplicationTests#shouldApplyEventsInCorrectOrder",
            "OrderAggregateTest$VersionManagementTests#shouldStartWithVersion0",
            "OrderAggregateTest$VersionManagementTests#shouldIncrementVersionWithEachEvent",
            "OrderAggregateTest$VersionManagementTests#shouldTrackCorrectVersionAfterMarkingEventsAsCommitted",
            "EventSerializationTest#shouldSerializeAndDeserializeOrderCreatedEvent",
            "EventSerializationTest#shouldSerializeAndDeserializeOrderItemAddedEvent",
            "EventSerializationTest#shouldSerializeAndDeserializeOrderItemRemovedEvent",
            "EventSerializationTest#shouldSerializeAndDeserializeOrderSubmittedEvent",
            "EventSerializationTest#shouldPreserveBigDecimalPrecisionInSerialization",
            "EventSerializationTest#shouldSerializeEventsWithAllRequiredFields",
            "EventStoreIntegrationTest#shouldPersistEventsWithSequentialVersions",
            "EventStoreIntegrationTest#shouldDetectConcurrentModifications",
            "EventStoreIntegrationTest#shouldRetrieveEventsInCorrectOrder",
            "EventStoreIntegrationTest#shouldSerializeAndDeserializeEventsCorrectly",
            "EventStoreIntegrationTest#shouldGetLatestVersionForAggregate",
            "EventStoreIntegrationTest#shouldRetrieveEventsAfterSpecificVersion",
            "EventStoreIntegrationTest#shouldHandleEmptyEventList",
            "EventStoreIntegrationTest#shouldStoreEventMetadata",
            "EventStoreIntegrationTest#shouldRejectInvalidExpectedVersion",
            "EventStoreIntegrationTest#shouldHandleMultipleAggregatesIndependently",
            "OrderProjectionIntegrationTest#shouldCreateProjectionOnOrderCreatedEvent",
            "OrderProjectionIntegrationTest#shouldUpdateProjectionOnItemAddedEvent",
            "OrderProjectionIntegrationTest#shouldUpdateProjectionOnOrderSubmittedEvent",
            "OrderProjectionIntegrationTest#shouldBeIdempotent",
            "OrderProjectionIntegrationTest#shouldHandleItemRemovedEvent",
            "OrderProjectionIntegrationTest#shouldNotCreateDuplicateProjections",
            "OrderProjectionIntegrationTest#shouldUpdateTotalAmountCorrectlyWithMultipleItems",
            "OrderProjectionIntegrationTest#shouldPreventDoubleSubmission",
            "SnapshotIntegrationTest#shouldCreateSnapshotAfterThresholdEvents",
            "SnapshotIntegrationTest#shouldLoadAggregateFromSnapshotAndRemainingEvents",
            "SnapshotIntegrationTest#shouldReduceLoadTimeWithSnapshot",
            "SnapshotIntegrationTest#shouldHandleMissingSnapshotGracefully",
            "SnapshotIntegrationTest#shouldUpdateSnapshotOnSubsequentSaves",
            "SnapshotIntegrationTest#shouldPreserveAggregateStateInSnapshot",
            "OrderLifecycleE2ETest#shouldCompleteFullOrderLifecycle",
            "OrderLifecycleE2ETest#shouldHandleItemRemovalInOrderLifecycle",
            "OrderLifecycleE2ETest#shouldMaintainConsistencyBetweenWriteAndReadModels",
            "OrderLifecycleE2ETest#shouldPersistAndRetrieveEventsCorrectly",
            "OrderLifecycleE2ETest#shouldHandleConcurrentModificationsCorrectly",
            "ConcurrencyE2ETest#shouldDetectConcurrentModificationsWithOptimisticLocking",
            "ConcurrencyE2ETest#shouldHandleConcurrentCreatesOnDifferentAggregates",
            "ConcurrencyE2ETest#shouldMaintainConsistencyUnderHighLoad",
            "ConcurrencyE2ETest#shouldHandleConcurrentReadAndWriteOperations",
            "ConcurrencyE2ETest#shouldRejectConcurrentSubmissions",
            "PerformanceTest#shouldLoadAggregateWithSnapshotFasterThanWithout",
            "PerformanceTest#shouldHandleHighVolumeOfEventsEfficiently",
            "PerformanceTest#shouldRebuildProjectionsWithBoundedMemory",
            "PerformanceTest#shouldMaintainPerformanceWithLargeAggregates",
            "PerformanceTest#shouldHandleConcurrentOperationsWithoutSignificantDegradation",
            "PerformanceTest#shouldScaleEventRetrievalEfficiently"
        ],
        "PASS_TO_PASS": []
        }
