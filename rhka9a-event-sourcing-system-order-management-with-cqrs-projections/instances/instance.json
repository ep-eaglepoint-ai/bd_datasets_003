{
        "instance_id": "RHKA9A",
        "problem_statement": "The engineering team needs to build an event sourcing framework for the order management domain to support audit logging, temporal queries, and eventual consistency across microservices. The system must store all state changes as immutable events, rebuild aggregate state from event history, maintain denormalized read models via projections, and handle concurrent modifications safely. The framework should support snapshot optimization for aggregates with many events and allow full projection rebuilds without blocking ongoing operations",
        "base_commit": "repository_before/",
        "test_patch": "tests/",
        "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_003/tree/main/rhka9a-event-sourcing-system-order-management-with-cqrs-projections",
        "environment_setup": "Dockerfile",
        "FAIL_TO_PASS": [
                "shouldThrowConcurrencyExceptionWhenVersionMismatch",
                "shouldAppendInitialEvent",
                "shouldReturnEmptyListWhenNoEvents",
                "shouldCheckIfEventProcessed",
                "shouldGetCurrentVersion",
                "shouldCreateOrderWithCorrectState",
                "shouldGenerateOrderCreatedEvent",
                "shouldHaveUncommittedChanges",
                "shouldAddItemToDraftOrder",
                "shouldAccumulateTotalAmount",
                "shouldNotAddItemToSubmittedOrder",
                "shouldValidateItemParameters",
                "shouldRemoveItem",
                "shouldNotRemoveNonExistentItem",
                "shouldNotRemoveItemFromSubmittedOrder",
                "shouldSubmitOrderWithItems",
                "shouldNotSubmitEmptyOrder",
                "shouldNotSubmitAlreadySubmittedOrder",
                "shouldCreateProjectionOnOrderCreated",
                "shouldBeIdempotent",
                "shouldSkipIfProjectionExists",
                "shouldUpdateProjectionOnItemAdded",
                "shouldUpdateProjectionOnItemRemoved",
                "shouldUpdateStatusToSubmitted",
                "shouldRebuildFromAllEvents",
                "shouldGetOrderById",
                "shouldGetOrdersByCustomer",
                "shouldPersistAndLoadEventsInOrder",
                "shouldEnforceOptimisticLocking",
                "shouldRebuildFromFullHistory",
                "snapshotReducesEventsLoadedAfterVersion",
                "shouldRebuildProjectionFromFullHistory",
                "eventReplayShouldProduceIdenticalState",
                "multipleReplaysShouldProduceIdenticalState",
                "replayShouldHandleComplexEventSequences",
                "projectionFailureShouldNotRollBackCommand",
                "multipleCommandsShouldSucceedDespiteProjectionFailures"
        ],
        "PASS_TO_PASS": []
        }
