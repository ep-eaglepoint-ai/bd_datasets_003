diff --git a/repository_after/main.cpp b/repository_after/main.cpp
new file mode 100644
index 00000000..d7f5edf7
--- /dev/null
+++ b/repository_after/main.cpp
@@ -0,0 +1,43 @@
+#include <iostream>
+#include <vector>
+#include "record_processor.h"
+
+// Sample data function
+std::vector<Record> createSampleData() {
+    return {
+        {1, "Electronics", 150},
+        {2, "Books", 25},
+        {3, "Electronics", 200},
+        {4, "Clothing", 75},
+        {5, "Books", 15},
+        {6, "Clothing", 125},
+        {7, "Electronics", 100},
+        {8, "Books", 30},
+        {9, "Home", 250},
+        {10, "Clothing", 50}
+    };
+}
+
+int main() {
+    try {
+        RecordProcessor processor;
+        
+        // Load records from in-memory source
+        std::vector<Record> records = createSampleData();
+        
+        // Process all records
+        processor.processRecords(records);
+        
+        // Generate and output the report
+        processor.generateReport(std::cout);
+        
+        return 0;
+        
+    } catch (const InvalidDataException& e) {
+        std::cerr << "ERROR: " << e.what() << std::endl;
+        return 1;
+    } catch (const std::exception& e) {
+        std::cerr << "Unexpected error: " << e.what() << std::endl;
+        return 1;
+    }
+}
\ No newline at end of file
diff --git a/repository_after/record_processor.cpp b/repository_after/record_processor.cpp
new file mode 100644
index 00000000..4856839b
--- /dev/null
+++ b/repository_after/record_processor.cpp
@@ -0,0 +1,73 @@
+#include "record_processor.h"
+
+// CategorySummary constructor
+CategorySummary::CategorySummary(const std::string& category_name) 
+    : name(category_name), count(0), total(0) {}
+
+// InvalidDataException constructor
+InvalidDataException::InvalidDataException(const std::string& message)
+    : std::runtime_error(message) {}
+
+// RecordProcessor implementation
+RecordProcessor::RecordProcessor() {
+    categories = std::map<std::string, CategorySummary>();
+}
+
+void RecordProcessor::validateRecord(const Record& record) const {
+    if (record.value < 0) {
+        std::ostringstream oss;
+        oss << "Record with ID " << record.id 
+            << " in category '" << record.category 
+            << "' has negative value: " << record.value;
+        throw InvalidDataException(oss.str());
+    }
+    
+    if (record.category.empty()) {
+        std::ostringstream oss;
+        oss << "Record with ID " << record.id 
+            << " has empty category";
+        throw InvalidDataException(oss.str());
+    }
+}
+
+void RecordProcessor::processRecord(const Record& record) {
+    validateRecord(record);
+    
+    auto it = categories.find(record.category);
+    if (it == categories.end()) {
+        // Create new category summary
+        it = categories.emplace(record.category, CategorySummary(record.category)).first;
+    }
+    
+    // Update the summary
+    it->second.count += 1;
+    it->second.total += record.value;
+}
+
+void RecordProcessor::processRecords(const std::vector<Record>& records) {
+    for (const auto& record : records) {
+        processRecord(record);
+    }
+}
+
+void RecordProcessor::generateReport(std::ostream& os) const {
+    // Categories are already stored in lexicographical order in std::map
+    for (const auto& [category_name, summary] : categories) {
+        os << category_name 
+           << " | COUNT=" << summary.count 
+           << " | TOTAL=" << summary.total;
+        
+        // Add newline except for last line
+        if (std::next(categories.find(category_name)) != categories.end()) {
+            os << "\n";
+        }
+    }
+}
+
+const std::map<std::string, CategorySummary>& RecordProcessor::getCategorySummaries() const {
+    return categories;
+}
+
+void RecordProcessor::clear() {
+    categories.clear();
+}
\ No newline at end of file
diff --git a/repository_after/record_processor.h b/repository_after/record_processor.h
new file mode 100644
index 00000000..6420adab
--- /dev/null
+++ b/repository_after/record_processor.h
@@ -0,0 +1,49 @@
+#ifndef RECORD_PROCESSOR_H
+#define RECORD_PROCESSOR_H
+
+#include <string>
+#include <vector>
+#include <map>
+#include <stdexcept>
+#include <ostream>
+#include <sstream>
+
+struct Record {
+    int id;
+    std::string category;
+    int value;
+};
+
+struct CategorySummary {
+    std::string name;
+    int count;
+    int total;
+    
+    CategorySummary(const std::string& category_name);
+};
+
+class InvalidDataException : public std::runtime_error {
+public:
+    explicit InvalidDataException(const std::string& message);
+};
+
+class RecordProcessor {
+private:
+    std::map<std::string, CategorySummary> categories;
+    
+    void validateRecord(const Record& record) const;
+    
+public:
+    RecordProcessor();
+    ~RecordProcessor() = default;
+    
+    void processRecord(const Record& record);
+    void processRecords(const std::vector<Record>& records);
+    void generateReport(std::ostream& os) const;
+    
+    const std::map<std::string, CategorySummary>& getCategorySummaries() const;
+    
+    void clear();
+};
+
+#endif // RECORD_PROCESSOR_H
\ No newline at end of file
