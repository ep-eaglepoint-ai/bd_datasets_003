# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Patient {
  id: ID!
  email: String!
  firstName: String!
  lastName: String!
  isVerified: Boolean!
  docScanUrl: String
  insuranceProvider: String
  insurancePolicyNumber: String
  insuranceData: String!
  medicalHistory: String
  dependents: [Patient]!
  guardian: Patient
  consentSignature: String
}

type Schedule {
  id: ID!
  provider: Provider!
  dayOfWeek: Int!
  startTime: String!
  endTime: String!
  recurrenceRule: String
  isOverbookable: Boolean
  maxOverBooking: Int!
}

type Provider {
  id: ID!
  name: String!
  specialty: String!
  schedules: [Schedule]!
}

type Appointment {
  id: ID!
  providerId: String!
  patientId: String!
  startTime: DateTime!
  endTime: DateTime!
  status: AppointmentStatus!
  type: AppointmentType!
  videoRoomSid: String
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

enum AppointmentStatus {
  BOOKED
  CANCELLED
  COMPLETED
  WAITLIST
}

enum AppointmentType {
  IN_PERSON
  TELEHEALTH
}

type Prescription {
  id: ID!
  patientId: String!
  providerId: String!
  medicationName: String!
  dosage: String!
  status: String!
}

type MedicalRecord {
  id: ID!
  patientId: String!
  recordType: String!
  data: String!
  date: DateTime!
}

type Message {
  id: ID!
  senderId: String!
  recipientId: String!
  content: String!
  category: String!
}

type Invoice {
  id: ID!
  appointmentId: String!
  patientId: String!
  description: String!
  amount: Float!
  status: String!
  date: DateTime!
  insuranceClaimId: String
}

type AdminAuditLog {
  id: ID!
  action: String!
  adminId: String!
  timestamp: DateTime!
}

type DashboardStats {
  activePatients: Float!
  upcomingAppointments: Float!
  revenue: Float!
}

type Query {
  patients: [Patient!]!
  patient(id: ID!): Patient!
  providers: [Provider!]!
  provider(id: ID!): Provider!
  appointments: [Appointment!]!
  prescriptions: [Prescription!]!
  medicalRecords: [MedicalRecord!]!
  messages: [Message!]!
  invoices: [Invoice!]!
  adminStats: DashboardStats!
  auditLogs: [AdminAuditLog!]!
}

type Mutation {
  login(email: String!): String!
  createPatient(createPatientInput: CreatePatientInput!): Patient!
  addDependent(guardianId: String!, dependentId: String!): Patient!
  signConsent(patientId: String!, signature: String!): Patient!
  createProvider(createProviderInput: CreateProviderInput!): Provider!
  addSchedule(addScheduleInput: AddScheduleInput!): Schedule!
  createAppointment(createAppointmentInput: CreateAppointmentInput!): Appointment!
  joinVideoRoom(roomName: String!, identity: String!): String!
  createPrescription(medicationName: String!, dosage: String!, isControlledSubstance: Boolean!): Prescription!
  sendMessage(content: String!, senderId: String!): Message!
  createInvoice(patientId: String!, amount: Float!, description: String!): Invoice!
}

input CreatePatientInput {
  email: String!
  firstName: String!
  lastName: String!
  docScanUrl: String
  insuranceData: String
}

input CreateProviderInput {
  name: String!
  specialty: String!
}

input AddScheduleInput {
  providerId: String!
  dayOfWeek: Int!
  startTime: String!
  endTime: String!
  maxOverBooking: Int = 0
}

input CreateAppointmentInput {
  providerId: String!
  patientId: String!
  startTime: DateTime!
  endTime: DateTime!
  type: AppointmentType!
}